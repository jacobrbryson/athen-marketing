<div class="fun-panel mt-3 flex flex-col h-full">
  <!-- Unity Player in RPG-style card -->
  <div class="unity-card flex-1 overflow-y-auto max-h-[500px]">
    <app-unity-player />
  </div>

  <!-- Chat input -->
  <div class="chat-input-bar mt-4 w-full flex items-center px-3 py-2 gap-2">
    <input
      class="flex-1 min-w-0 bg-transparent outline-none text-gray-700 placeholder-gray-400 text-base"
      type="text"
      placeholder="Teach Athena something new..."
      [value]="message()"
      (input)="onInput($event)"
      [disabled]="isSending()"
      (keyup.enter)="sendMessage()"
    />

    <button class="send-button" title="Send" (click)="sendMessage()" [disabled]="isSending()">
      <ng-container *ngIf="!isSending(); else spinner"> âž¤ </ng-container>

      <ng-template #spinner>
        <div
          class="animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"
        ></div>
      </ng-template>
    </button>
  </div>
</div>
